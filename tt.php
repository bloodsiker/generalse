<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <style>
        .fixtable-fixed {
            position: fixed;
            top: 0;
            z-index: 101;
            background-color: #000;
            border-bottom: 1px solid #ddd;
        }
    </style>
</head>
<body>
<table class="table table-bordered fixtable" border="1" style="margin-top: 200px">
    <thead>
    <tr>
        <th>Артикул</th>
        <th>Текущая МРЦ</th>
        <th>Новая РРЦ</th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    <tr>
        <td>2934/8C</td>
        <td>20&nbsp;369,00</td>
        <td>14&nbsp;258,30</td>
    </tr>
    </tbody>
</table>

<script src="/template/admin/js/vendor/jquery.js"></script>
<script>
    function FixTable(table) {
        var inst = this;
        this.table  = table;

        $('tr > th',$(this.table)).each(function(index) {
            var div_fixed = $('<div/>').addClass('fixtable-fixed');
            var div_relat = $('<div/>').addClass('fixtable-relative');
            div_fixed.html($(this).html());
            div_relat.html($(this).html());
            $(this).html('').append(div_fixed).append(div_relat);
            $(div_fixed).hide();
        });

        this.StyleColumns();
        this.FixColumns();

        $(window).scroll(function(){
            inst.FixColumns()
        }).resize(function(){
            inst.StyleColumns()
        });
    }

    FixTable.prototype.StyleColumns = function() {
        var inst = this;
        $('tr > th', $(this.table)).each(function(){
            var div_relat = $('div.fixtable-relative', $(this));
            var th = $(div_relat).parent('th');
            $('div.fixtable-fixed', $(this)).css({
                'width': $(th).outerWidth(true) - parseInt($(th).css('border-left-width')) + 'px',
                'height': $(th).outerHeight(true) + 'px',
                'left': $(div_relat).offset().left - parseInt($(th).css('padding-left')) + 'px',
                'padding-top': $(div_relat).offset().top - $(inst.table).offset().top + 'px',
                'padding-left': $(th).css('padding-left'),
                'padding-right': $(th).css('padding-right')
            });
        });
    }

    FixTable.prototype.FixColumns = function() {
        var inst = this;
        var show = false;
        var s_top = $(window).scrollTop();
        var h_top = $(inst.table).offset().top;

        if (s_top < (h_top + $(inst.table).height() - $(inst.table).find('.fixtable-fixed').outerHeight()) && s_top > h_top) {
            show = true;
        }

        $('tr > th > div.fixtable-fixed', $(this.table)).each(function(){
            show ? $(this).show() : $(this).hide()
        });
    }

    $(document).ready(function(){
        $('.fixtable').each(function() {
            new FixTable(this);
        });
    });
</script>
</body>
</html>

